var bdShare=bdShare||{};bdShare.isLocalStorage=function(){try{return"localStorage" in window&&window.localStorage!==null}catch(a){return false}};bdShare.isUserData=function(){return document.all?true:false};bdShare.isFlash=function(){var a=(function(){var j=navigator;if(j.plugins&&j.mimeTypes.length){var f=j.plugins["Shockwave Flash"];if(f&&f.description){return f.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0"}}else{if(window.ActiveXObject&&!window.opera){for(var d=12;d>=2;d--){try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+d);if(h){var b=h.GetVariable("$version");return b.replace(/WIN/g,"").replace(/,/g,".")}}catch(g){}}}}})();if(a){return true}else{return false}};bdShare.getCookie=function(b){var c=new RegExp("(^| )"+b+"=([^;]*)(;|\x24)");var a=c.exec(document.cookie);if(a){return a[2]||null}if("string"==typeof value){value=decodeURIComponent(value);return value}return null};bdShare.setCookie=function(d,f,b,h,e,g){var a=new Date();var c=30*24*3600*1000;if(b){a.setTime(a.getTime()+b*c)}else{a.setTime(a.getTime()+c)}document.cookie=d+"="+escape(f)+"; expires="+a.toGMTString()+((h)?"; path="+h:"; path=/")+((e)?"; domain="+e:"")+((g)?"; secure":"")};bdShare.generateRandom=function(e,f){var a=e.length;var c="";for(var b=1;b<=f;b++){var d=Math.floor(a*Math.random());c=c+e.charAt(d)}return c};bdShare.localStorage=(function(){function b(c){if(navigator.appName.indexOf("Microsoft")!=-1){return window[c]}else{return document[c]}}var a=(function(){var g=[];var f=[];var e=[];if(bdShare.isFlash()){var h="http://bdimg.share.baidu.com/static/js/c.swf?cdnversion=20120301";var i=document.createElement("div");document.body.appendChild(i);i.innerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="1" height="1" id="shareswf" align="middle"><param name="allowScriptAccess" value="always" /><param name="movie" value="'+h+'" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><embed src="'+h+'" quality="high" bgcolor="#ffffff" width="1" height="1" name="shareswf" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" /></object>';var d=b("shareswf");g.push(function(j){return d.getItem(j)});f.push(function(k,j){d.setItem(k,j)});e.push("flash")}if(bdShare.isUserData()){var c={userData:null,name:"bdShare",init:function(){if(!c.userData){try{c.userData=document.createElement("INPUT");c.userData.type="hidden";c.userData.style.display="none";c.userData.addBehavior("#default#userData");document.body.appendChild(c.userData);var j=new Date();j.setDate(j.getDate()+3650);c.userData.expires=j.toUTCString()}catch(k){return false}}return true}};g.push(function(j){if(c.init()){c.userData.load(c.name);return c.userData.getAttribute(j)}});f.push(function(k,j){if(c.init()){c.userData.load(c.name);c.userData.setAttribute(k,j);c.userData.save(c.name)}});e.push("userdata")}if(bdShare.isLocalStorage()){g.push(function(j){return window.localStorage.getItem(j)});f.push(function(k,j){window.localStorage.setItem(k,j)});e.push("localstorage")}return{getLocalStorage:function(m){var k="";for(var l=0,j=g.length;l<j;l++){k=g[l](m,k);if(k){return k}}return""},setLocalStorage:function(m,k){for(var l=0,j=f.length;l<j;l++){f[l](m,k)}},getSupportType:function(){return e.join(",")}}})();return a})();function getUrlParams(a){var f=a.substr(a.indexOf("?")+1),c=f.split("&"),e=c.length,k={},d=0,h,g,j,b;for(;d<e;d++){if(!c[d]){continue}b=c[d].split("=");h=b[0];g=b[1];j=k[h];if("undefined"==typeof j){k[h]=g}else{if("[object Array]"==Object.prototype.toString.call(j)){j.push(g)}else{k[h]=[j,g]}}}return k}function encodeHTML(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function isJSReady(){setTimeout(function(){var a,c,b,h,i,j,l=bdShare.getCookie("BAIDUID"),f=bdShare.getCookie("BDUT");if(!l){return false}var e=l.substring(0,32);var d=f?f.substring(4,36):"";var g=bdShare.localStorage.getLocalStorage("BDSHARESTORAGE");var k=encodeHTML(getUrlParams(window.location.href).from);if(!!g){c=g.substring(4,36);h=g.substring(47);if(c!=d){h=(parseInt(h,16)+1).toString(16);a=bdShare.generateRandom("0123456789abcdefghijklmnopqrstuvwxyz",4);b=new Date().getTime().toString(16);g=a+c+b+h;i=true;j=3088}else{}}else{a=bdShare.generateRandom("0123456789abcdefghijklmnopqrstuvwxyz",4);c=e;b=new Date().getTime().toString(16);h=0;g=a+c+b+h;i=true;j=3089}bdShare.setCookie("BDUT",g,240,"",".baidu.com");bdShare.localStorage.setLocalStorage("BDSHARESTORAGE",g)},100)}if((!bdShare.isFlash())&&(bdShare.isUserData()||bdShare.isLocalStorage())){isJSReady()};